- name:
  enums:
    Action: {type: int8, enum: { New: 0, Delete: 1 }}
    RType:
      type: int8
      enum: {UNSPEC: 0, UNICAST: 1, LOCAL: 2, BROADCAST: 3, ANYCAST: 4, MULTICAST: 5, BLACKHOLE: 6, UNREACHABLE: 7, PROHIBIT: 8, THROW: 9, NAT: 10, XRESOLVE: 11, MAX: 12}
  aliases:
    - {name: ipv4, type: uint32}
    - {name: ipv6, type: byte16}
    - {name: interface, type: byte16, options.type: string}

#- name: link
#  id: 10
#  fields:
#    - {name: action, type: Action}
#    - {name: index, type: int32}
#    - {name: name, type: interface}
#    - {name: flags, type: uint32}

- name: Route4
  id: 20
  fields:
    - {name: action, type: Action}
    - {name: table, type: uint32}
    - {name: type, type: RType}
    - {name: oif, type: interface}
    - {name: dst_mask, type: uint8}
    - {name: dst, type: ipv4}
    - {name: src_mask, type: uint8}
    - {name: src, type: ipv4}

- name: Route6
  id: 30
  fields:
    - {name: action, type: Action}
    - {name: table, type: uint32}
    - {name: type, type: RType}
    - {name: oif, type: interface}
    - {name: dst_mask, type: uint8}
    - {name: dst, type: ipv6}
    - {name: src_mask, type: uint8}
    - {name: src, type: ipv6}
